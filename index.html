<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Be My Valentine</title>

  <!-- Păstrează CSS-ul proiectului -->
  <link rel="stylesheet" href="css/valentine.css" />
</head>

<body>
  <div id="valentineQuestion">
    <b>Maia, vrei să fii partenera mea de Valentine's Day?</b>
  </div>

  <button class="answerButton" id="yesButton" onclick="location.href='thankyou.html'">DAAAAA</button>
  <button class="answerButton" id="noButton" onclick="handleNoClick()">Nu vreau</button>

  <br />
  <img src="cat.gif" alt="cat asking question" class="responsive" />

  <script>
const yesBtn = document.getElementById("yesButton");
  const noBtn = document.getElementById("noButton");

  // Texte FARA diacritice (exact cum ai cerut)
  const noSequence = [
    "imi pare rau,am zis nu",
    "hai mai lasa ma",
    "edi pbune,nu",
    "deja simt ca ma enervez",
    "GATA",
    "deja esti nesimtit"
  ];

  let clicks = 0;
  let scale = 1;

  // Fix: stilizam butonul NU ca sa fie mereu citibil
  function styleNoCorner() {
    noBtn.style.position = "fixed";
    noBtn.style.right = "18px";
    noBtn.style.bottom = "18px";
    noBtn.style.zIndex = "10000";
    noBtn.style.maxWidth = "260px";
    noBtn.style.padding = "10px 12px";
    noBtn.style.fontSize = "14px";
    noBtn.style.lineHeight = "1.2";
    noBtn.style.whiteSpace = "normal";  // permite text pe 2 randuri
    noBtn.style.textAlign = "center";
  }

  // Fix: DA creste, dar mai lent, ca sa nu acopere imediat
  function growYesSlow() {
    scale += 0.12; // << mai mic decat 0.35
    yesBtn.style.transform = "scale(" + scale + ")";
    yesBtn.style.transition = "transform 180ms ease";
    yesBtn.style.zIndex = "9000";
  }

  function makeYesFullScreen() {
    yesBtn.style.position = "fixed";
    yesBtn.style.left = "0";
    yesBtn.style.top = "0";
    yesBtn.style.width = "100vw";
    yesBtn.style.height = "100vh";
    yesBtn.style.borderRadius = "0";
    yesBtn.style.zIndex = "9999";
    yesBtn.style.transform = "none";
    yesBtn.style.fontSize = "10vw";
    yesBtn.textContent = "DAAAAA";
  }

  // Aplica stilul de colt de la inceput
  styleNoCorner();

  function handleNoClick() {
    clicks++;

    // Dupa primul click, muta NU in colt si mic
    styleNoCorner();

    // Afiseaza frazele pe rand
    if (clicks <= noSequence.length) {
      noBtn.textContent = noSequence[clicks - 1];
    }

    // DA creste lent, ca sa nu acopere frazele
    growYesSlow();

    // Dupa ultima fraza => DA fullscreen + ascunde NU
    if (clicks >= noSequence.length) {
      makeYesFullScreen();
      noBtn.style.display = "none";
    }
  }

  window.handleNoClick = handleNoClick;
  </script>
</body>
</html>
